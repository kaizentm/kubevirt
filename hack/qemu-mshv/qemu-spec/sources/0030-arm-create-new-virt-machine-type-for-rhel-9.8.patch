From 13ccc4660a956a0c2b25558a85b6152c9b366181 Mon Sep 17 00:00:00 2001
From: Shaoqin Huang <shahuang@redhat.com>
Date: Thu, 9 Oct 2025 02:38:45 -0400
Subject: [PATCH] arm: create new virt machine type for rhel 9.8

Upstream Status: RHEL only
JIRA: https://issues.redhat.com/browse/RHEL-105903

Signed-off-by: Shaoqin Huang <shahuang@redhat.com>
---
 hw/arm/virt.c | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/hw/arm/virt.c b/hw/arm/virt.c
index d3bab67991..b8699cb9a2 100644
--- a/hw/arm/virt.c
+++ b/hw/arm/virt.c
@@ -3692,6 +3692,11 @@ static void virt_machine_4_1_options(MachineClass *mc)
 DEFINE_VIRT_MACHINE(4, 1)
 #endif /* disabled for RHEL */
 
+static void virt_rhel_machine_9_8_0_options(MachineClass *mc)
+{
+}
+DEFINE_VIRT_MACHINE_AS_LATEST(9, 8, 0)
+
 static void virt_rhel_machine_9_6_0_options(MachineClass *mc)
 {
     VirtMachineClass *vmc = VIRT_MACHINE_CLASS(OBJECT_CLASS(mc));
@@ -3699,7 +3704,7 @@ static void virt_rhel_machine_9_6_0_options(MachineClass *mc)
     vmc->no_nested_smmu = true;
     compat_props_add(mc->compat_props, hw_compat_rhel_9_8, hw_compat_rhel_9_8_len);
 }
-DEFINE_VIRT_MACHINE_AS_LATEST(9, 6, 0)
+DEFINE_VIRT_MACHINE(9, 6, 0)
 
 static void virt_rhel_machine_9_4_0_options(MachineClass *mc)
 {
